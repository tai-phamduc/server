{
  "info": {
    "name": "Seats API Collection",
    "description": "A collection of API requests for testing seat-related endpoints in the Movie Ticket Booking API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Endpoints for user authentication (required for some seat operations)",
      "item": [
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"testuser@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "login"]
            },
            "description": "Login to get authentication token for seat reservation and booking"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Movies",
      "description": "Endpoints to get movie data for finding screenings",
      "item": [
        {
          "name": "Get Now Playing Movies",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/movies/status/Now Playing",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "status", "Now Playing"]
            },
            "description": "Get movies that are currently playing to find a movie ID for testing"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Cinemas",
      "description": "Endpoints to get cinema data for finding screenings",
      "item": [
        {
          "name": "Get Cinemas by Movie and Date",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/cinemas/movie/{{movieId}}/date/{{date}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "cinemas", "movie", "{{movieId}}", "date", "{{date}}"]
            },
            "description": "Get cinemas showing a specific movie on a specific date"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Screenings",
      "description": "Endpoints to get screening data for finding seats",
      "item": [
        {
          "name": "Get Screenings by Movie and Date",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/screenings/movie/{{movieId}}/date/{{date}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "screenings", "movie", "{{movieId}}", "date", "{{date}}"]
            },
            "description": "Get all screenings for a specific movie on a specific date across all cinemas"
          },
          "response": []
        },
        {
          "name": "Get Screenings by Movie, Cinema and Date",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/screenings/movie/{{movieId}}/cinema/{{cinemaId}}/date/{{date}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "screenings", "movie", "{{movieId}}", "cinema", "{{cinemaId}}", "date", "{{date}}"]
            },
            "description": "Get screenings for a specific movie at a specific cinema on a specific date"
          },
          "response": []
        },
        {
          "name": "Get Screening by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/screenings/{{screeningId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "screenings", "{{screeningId}}"]
            },
            "description": "Get details of a specific screening by ID"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Seats",
      "description": "Endpoints for seat operations",
      "item": [
        {
          "name": "Get Available Seats (Screening)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/screenings/{{screeningId}}/seats",
              "host": ["{{baseUrl}}"],
              "path": ["api", "screenings", "{{screeningId}}", "seats"]
            },
            "description": "Get available seats for a specific screening"
          },
          "response": []
        },
        {
          "name": "Get Available Seats (Showtime)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/showtimes/{{showtimeId}}/seats",
              "host": ["{{baseUrl}}"],
              "path": ["api", "showtimes", "{{showtimeId}}", "seats"]
            },
            "description": "Get available seats for a specific showtime (legacy endpoint)"
          },
          "response": []
        },
        {
          "name": "Reserve Seats",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"seatIds\": [\"{{seatId1}}\", \"{{seatId2}}\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/screenings/{{screeningId}}/reserve",
              "host": ["{{baseUrl}}"],
              "path": ["api", "screenings", "{{screeningId}}", "reserve"]
            },
            "description": "Reserve seats for a specific screening (temporary hold)"
          },
          "response": []
        },
        {
          "name": "Release Seats",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"seatIds\": [\"{{seatId1}}\", \"{{seatId2}}\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/screenings/{{screeningId}}/release",
              "host": ["{{baseUrl}}"],
              "path": ["api", "screenings", "{{screeningId}}", "release"]
            },
            "description": "Release previously reserved seats"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Bookings",
      "description": "Endpoints for booking operations (which include seat selection)",
      "item": [
        {
          "name": "Create Booking",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"screening\": \"{{screeningId}}\",\n    \"movie\": \"{{movieId}}\",\n    \"cinema\": \"{{cinemaId}}\",\n    \"room\": \"{{roomId}}\",\n    \"seats\": [\"{{seatId1}}\", \"{{seatId2}}\"],\n    \"totalPrice\": 30.00,\n    \"paymentMethod\": \"credit_card\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            },
            "description": "Create a new booking with selected seats"
          },
          "response": []
        },
        {
          "name": "Get User Bookings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            },
            "description": "Get all bookings for the current user (including seat information)"
          },
          "response": []
        },
        {
          "name": "Get Booking by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}"]
            },
            "description": "Get details of a specific booking (including seat information)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Cinema Rooms",
      "description": "Endpoints for cinema room operations (which include seat layouts)",
      "item": [
        {
          "name": "Get Cinema by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/cinemas/{{cinemaId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "cinemas", "{{cinemaId}}"]
            },
            "description": "Get details of a specific cinema (including room and seat layout information)"
          },
          "response": []
        }
      ]
    }
  ]
}
