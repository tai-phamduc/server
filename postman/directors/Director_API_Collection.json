{
  "info": {
    "name": "Director API Collection",
    "description": "A collection of API requests for testing director-related endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Endpoints for user authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "login"]
            },
            "description": "Login to get authentication token"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Directors",
      "description": "Endpoints for director operations",
      "item": [
        {
          "name": "Get All Directors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors"]
            },
            "description": "Get a list of all directors"
          },
          "response": []
        },
        {
          "name": "Get Directors with Pagination",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get a paginated list of directors"
          },
          "response": []
        },
        {
          "name": "Get Director by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}"]
            },
            "description": "Get details of a specific director by ID"
          },
          "response": []
        },
        {
          "name": "Search Directors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors/search?keyword=spielberg",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "search"],
              "query": [
                {
                  "key": "keyword",
                  "value": "spielberg"
                }
              ]
            },
            "description": "Search for directors by name"
          },
          "response": []
        },
        {
          "name": "Get Popular Directors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors/popular?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "popular"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get most popular directors"
          },
          "response": []
        },
        {
          "name": "Create Director (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Steven Spielberg\",\n    \"bio\": \"Steven Allan Spielberg is an American film director, producer, and screenwriter. He is considered one of the founding pioneers of the New Hollywood era and one of the most popular directors and producers in film history.\",\n    \"birthDate\": \"1946-12-18\",\n    \"birthPlace\": \"Cincinnati, Ohio, USA\",\n    \"image\": \"https://example.com/spielberg.jpg\",\n    \"gender\": \"Male\",\n    \"socialMedia\": {\n        \"twitter\": \"@stevenspielberg\",\n        \"instagram\": \"@stevenspielberg\",\n        \"facebook\": \"StevenSpielberg\"\n    },\n    \"awards\": [\n        {\n            \"name\": \"Academy Award for Best Director\",\n            \"year\": 1994,\n            \"movie\": \"Schindler's List\"\n        },\n        {\n            \"name\": \"Academy Award for Best Director\",\n            \"year\": 1999,\n            \"movie\": \"Saving Private Ryan\"\n        }\n    ],\n    \"filmography\": [\n        {\n            \"title\": \"Jaws\",\n            \"year\": 1975,\n            \"role\": \"Director\"\n        },\n        {\n            \"title\": \"E.T. the Extra-Terrestrial\",\n            \"year\": 1982,\n            \"role\": \"Director\"\n        }\n    ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/directors",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors"]
            },
            "description": "Create a new director (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Director (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Steven Spielberg\",\n    \"bio\": \"Updated bio for Steven Spielberg. Steven Allan Spielberg is an American film director, producer, and screenwriter. He is considered one of the founding pioneers of the New Hollywood era and one of the most popular directors and producers in film history.\",\n    \"image\": \"https://example.com/spielberg-updated.jpg\",\n    \"socialMedia\": {\n        \"twitter\": \"@stevenspielberg\",\n        \"instagram\": \"@stevenspielberg\",\n        \"facebook\": \"StevenSpielberg\",\n        \"website\": \"https://www.amblin.com\"\n    },\n    \"awards\": [\n        {\n            \"name\": \"Academy Award for Best Director\",\n            \"year\": 1994,\n            \"movie\": \"Schindler's List\"\n        },\n        {\n            \"name\": \"Academy Award for Best Director\",\n            \"year\": 1999,\n            \"movie\": \"Saving Private Ryan\"\n        },\n        {\n            \"name\": \"Golden Globe Award for Best Director\",\n            \"year\": 1994,\n            \"movie\": \"Schindler's List\"\n        }\n    ],\n    \"filmography\": [\n        {\n            \"title\": \"Jaws\",\n            \"year\": 1975,\n            \"role\": \"Director\"\n        },\n        {\n            \"title\": \"E.T. the Extra-Terrestrial\",\n            \"year\": 1982,\n            \"role\": \"Director\"\n        },\n        {\n            \"title\": \"Jurassic Park\",\n            \"year\": 1993,\n            \"role\": \"Director\"\n        }\n    ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}"]
            },
            "description": "Update an existing director (admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Director (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}"]
            },
            "description": "Delete a director (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Director-Movie Associations",
      "description": "Endpoints for managing director-movie associations",
      "item": [
        {
          "name": "Get Movies by Director",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/movies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "movies"]
            },
            "description": "Get all movies directed by a specific director"
          },
          "response": []
        },
        {
          "name": "Get Directors by Movie",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/directors",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "directors"]
            },
            "description": "Get all directors of a specific movie"
          },
          "response": []
        },
        {
          "name": "Add Director to Movie (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"role\": \"Director\",\n    \"isPrimaryDirector\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/directors/{{directorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "directors", "{{directorId}}"]
            },
            "description": "Add a director to a movie (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Director Role in Movie (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"role\": \"Co-Director\",\n    \"isPrimaryDirector\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/directors/{{directorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "directors", "{{directorId}}"]
            },
            "description": "Update a director's role in a movie (admin only)"
          },
          "response": []
        },
        {
          "name": "Remove Director from Movie (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/directors/{{directorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "directors", "{{directorId}}"]
            },
            "description": "Remove a director from a movie (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Director Awards",
      "description": "Endpoints for managing director awards",
      "item": [
        {
          "name": "Get Director Awards",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/awards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "awards"]
            },
            "description": "Get all awards for a specific director"
          },
          "response": []
        },
        {
          "name": "Add Award to Director (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Golden Globe Award for Best Director\",\n    \"year\": 1999,\n    \"movie\": \"Saving Private Ryan\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/awards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "awards"]
            },
            "description": "Add an award to a director (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Director Award (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Golden Globe Award for Best Director - Motion Picture\",\n    \"year\": 1999,\n    \"movie\": \"Saving Private Ryan\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/awards/{{awardId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "awards", "{{awardId}}"]
            },
            "description": "Update a director's award (admin only)"
          },
          "response": []
        },
        {
          "name": "Remove Award from Director (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/awards/{{awardId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "awards", "{{awardId}}"]
            },
            "description": "Remove an award from a director (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Director Filmography",
      "description": "Endpoints for managing director filmography",
      "item": [
        {
          "name": "Get Director Filmography",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/filmography",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "filmography"]
            },
            "description": "Get the filmography for a specific director"
          },
          "response": []
        },
        {
          "name": "Add Film to Filmography (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\": \"Ready Player One\",\n    \"year\": 2018,\n    \"role\": \"Director\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/filmography",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "filmography"]
            },
            "description": "Add a film to a director's filmography (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Filmography Entry (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\": \"Ready Player One\",\n    \"year\": 2018,\n    \"role\": \"Director/Producer\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/filmography/{{filmId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "filmography", "{{filmId}}"]
            },
            "description": "Update a film in a director's filmography (admin only)"
          },
          "response": []
        },
        {
          "name": "Remove Film from Filmography (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/directors/{{directorId}}/filmography/{{filmId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "{{directorId}}", "filmography", "{{filmId}}"]
            },
            "description": "Remove a film from a director's filmography (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Director Statistics",
      "description": "Endpoints for director statistics",
      "item": [
        {
          "name": "Get Director Statistics (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/directors/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "statistics"]
            },
            "description": "Get overall director statistics (admin only)"
          },
          "response": []
        },
        {
          "name": "Get Most Prolific Directors (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/directors/statistics/most-prolific?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "statistics", "most-prolific"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get directors with the most films (admin only)"
          },
          "response": []
        },
        {
          "name": "Get Most Awarded Directors (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/directors/statistics/most-awarded?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "directors", "statistics", "most-awarded"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get directors with the most awards (admin only)"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Get today's date in YYYY-MM-DD format",
          "const today = new Date();",
          "const todayFormatted = today.toISOString().split('T')[0];",
          "",
          "// Format display date (e.g., \"December 25, 2023\")",
          "const options = { year: 'numeric', month: 'long', day: 'numeric' };",
          "const displayDate = today.toLocaleDateString('en-US', options);",
          "",
          "// Get day of week",
          "const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];",
          "const dayOfWeek = daysOfWeek[today.getDay()];",
          "",
          "// Set environment variables",
          "pm.environment.set('date', todayFormatted);",
          "pm.environment.set('displayDate', displayDate);",
          "pm.environment.set('dayOfWeek', dayOfWeek);"
        ]
      }
    }
  ]
}
