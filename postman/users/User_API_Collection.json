{
  "info": {
    "name": "User API Collection",
    "description": "A collection of API requests for testing user-related endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Endpoints for user authentication",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Test User\",\n    \"email\": \"testuser@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "register"]
            },
            "description": "Register a new user"
          },
          "response": []
        },
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"testuser@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "login"]
            },
            "description": "Login and get authentication token"
          },
          "response": []
        },
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "login"]
            },
            "description": "Login as admin and get authentication token"
          },
          "response": []
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"testuser@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/forgot-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "forgot-password"]
            },
            "description": "Request password reset email"
          },
          "response": []
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"password\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/reset-password/{{resetToken}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "reset-password", "{{resetToken}}"]
            },
            "description": "Reset password using token received via email"
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Profile",
      "description": "Endpoints for user profile management",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile"]
            },
            "description": "Get current user's profile"
          },
          "response": []
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Name\",\n    \"email\": \"updated@example.com\",\n    \"phone\": \"1234567890\",\n    \"bio\": \"This is my updated bio\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile"]
            },
            "description": "Update current user's profile"
          },
          "response": []
        },
        {
          "name": "Update Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"currentPassword\": \"password123\",\n    \"newPassword\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "password"]
            },
            "description": "Update user's password"
          },
          "response": []
        },
        {
          "name": "Upload Profile Picture",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "image",
                  "type": "file",
                  "src": "/path/to/profile-picture.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/profile-picture",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile-picture"]
            },
            "description": "Upload user profile picture"
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Bookings",
      "description": "Endpoints for user booking management",
      "item": [
        {
          "name": "Get User Bookings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "bookings"]
            },
            "description": "Get current user's booking history"
          },
          "response": []
        },
        {
          "name": "Create Booking",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"movie\": \"{{movieId}}\",\n    \"showtime\": \"{{showtimeId}}\",\n    \"seats\": [\"A1\", \"A2\"],\n    \"totalPrice\": 30.00,\n    \"paymentMethod\": \"credit_card\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings"]
            },
            "description": "Create a new booking"
          },
          "response": []
        },
        {
          "name": "Get Booking by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}"]
            },
            "description": "Get details of a specific booking"
          },
          "response": []
        },
        {
          "name": "Cancel Booking",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"reason\": \"Change of plans\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/bookings/{{bookingId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "{{bookingId}}", "cancel"]
            },
            "description": "Cancel a booking"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Two-Factor Authentication",
      "description": "Endpoints for two-factor authentication",
      "item": [
        {
          "name": "Setup 2FA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/2fa/setup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "2fa", "setup"]
            },
            "description": "Set up two-factor authentication"
          },
          "response": []
        },
        {
          "name": "Verify and Enable 2FA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"token\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/2fa/verify",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "2fa", "verify"]
            },
            "description": "Verify and enable two-factor authentication"
          },
          "response": []
        },
        {
          "name": "Disable 2FA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"token\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/2fa/disable",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "2fa", "disable"]
            },
            "description": "Disable two-factor authentication"
          },
          "response": []
        },
        {
          "name": "Verify 2FA Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": \"{{userId}}\",\n    \"token\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/2fa/verify-token",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "2fa", "verify-token"]
            },
            "description": "Verify a two-factor authentication token"
          },
          "response": []
        },
        {
          "name": "Generate New Backup Codes",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/2fa/backup-codes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "2fa", "backup-codes"]
            },
            "description": "Generate new backup codes for two-factor authentication"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin User Management",
      "description": "Endpoints for admin user management",
      "item": [
        {
          "name": "Get All Users (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users"]
            },
            "description": "Get a list of all users (admin only)"
          },
          "response": []
        },
        {
          "name": "Get User by ID (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "{{userId}}"]
            },
            "description": "Get details of a specific user (admin only)"
          },
          "response": []
        },
        {
          "name": "Update User (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated User Name\",\n    \"email\": \"updated@example.com\",\n    \"role\": \"editor\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "{{userId}}"]
            },
            "description": "Update a user (admin only)"
          },
          "response": []
        },
        {
          "name": "Delete User (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "{{userId}}"]
            },
            "description": "Delete a user (admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Bookings (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/bookings/admin",
              "host": ["{{baseUrl}}"],
              "path": ["api", "bookings", "admin"]
            },
            "description": "Get a list of all bookings (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Preferences",
      "description": "Endpoints for user preferences",
      "item": [
        {
          "name": "Update User Preferences",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"preferences\": {\n        \"favoriteGenres\": [\"Action\", \"Comedy\"],\n        \"preferredSeatingArea\": \"middle\",\n        \"preferredShowtimePeriod\": \"evening\"\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile"]
            },
            "description": "Update user preferences"
          },
          "response": []
        },
        {
          "name": "Add Movie to Watchlist",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"movieId\": \"{{movieId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/watchlist",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "watchlist"]
            },
            "description": "Add a movie to user's watchlist"
          },
          "response": []
        },
        {
          "name": "Remove Movie from Watchlist",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/watchlist/{{movieId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "watchlist", "{{movieId}}"]
            },
            "description": "Remove a movie from user's watchlist"
          },
          "response": []
        },
        {
          "name": "Add Favorite Movie",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"movieId\": \"{{movieId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/favorites",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "favorites"]
            },
            "description": "Add a movie to user's favorites"
          },
          "response": []
        },
        {
          "name": "Remove Favorite Movie",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{userToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/favorites/{{movieId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "favorites", "{{movieId}}"]
            },
            "description": "Remove a movie from user's favorites"
          },
          "response": []
        }
      ]
    }
  ]
}
