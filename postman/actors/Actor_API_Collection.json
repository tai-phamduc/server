{
  "info": {
    "name": "Actor API Collection",
    "description": "A collection of API requests for testing actor-related endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Endpoints for user authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "login"]
            },
            "description": "Login to get authentication token"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Actors",
      "description": "Endpoints for actor operations",
      "item": [
        {
          "name": "Get All Actors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors"]
            },
            "description": "Get a list of all actors"
          },
          "response": []
        },
        {
          "name": "Get Actors with Pagination",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get a paginated list of actors"
          },
          "response": []
        },
        {
          "name": "Get Actor by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}"]
            },
            "description": "Get details of a specific actor by ID"
          },
          "response": []
        },
        {
          "name": "Search Actors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors/search?keyword=tom",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "search"],
              "query": [
                {
                  "key": "keyword",
                  "value": "tom"
                }
              ]
            },
            "description": "Search for actors by name"
          },
          "response": []
        },
        {
          "name": "Get Popular Actors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors/popular?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "popular"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get most popular actors"
          },
          "response": []
        },
        {
          "name": "Create Actor (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Tom Hanks\",\n    \"bio\": \"Thomas Jeffrey Hanks is an American actor and filmmaker. Known for both his comedic and dramatic roles, he is one of the most popular and recognizable film stars worldwide.\",\n    \"birthDate\": \"1956-07-09\",\n    \"birthPlace\": \"Concord, California, USA\",\n    \"image\": \"https://example.com/tom-hanks.jpg\",\n    \"gender\": \"Male\",\n    \"height\": \"183\",\n    \"socialMedia\": {\n        \"twitter\": \"@tomhanks\",\n        \"instagram\": \"@tomhanks\",\n        \"facebook\": \"TomHanks\"\n    },\n    \"awards\": [\n        {\n            \"name\": \"Academy Award for Best Actor\",\n            \"year\": 1994,\n            \"movie\": \"Forrest Gump\"\n        },\n        {\n            \"name\": \"Academy Award for Best Actor\",\n            \"year\": 1995,\n            \"movie\": \"Philadelphia\"\n        }\n    ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/actors",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors"]
            },
            "description": "Create a new actor (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Actor (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Tom Hanks\",\n    \"bio\": \"Updated bio for Tom Hanks. Thomas Jeffrey Hanks is an American actor and filmmaker. Known for both his comedic and dramatic roles, he is one of the most popular and recognizable film stars worldwide.\",\n    \"image\": \"https://example.com/tom-hanks-updated.jpg\",\n    \"socialMedia\": {\n        \"twitter\": \"@tomhanks\",\n        \"instagram\": \"@tomhanks\",\n        \"facebook\": \"TomHanks\",\n        \"website\": \"https://www.tomhanks.com\"\n    },\n    \"awards\": [\n        {\n            \"name\": \"Academy Award for Best Actor\",\n            \"year\": 1994,\n            \"movie\": \"Forrest Gump\"\n        },\n        {\n            \"name\": \"Academy Award for Best Actor\",\n            \"year\": 1995,\n            \"movie\": \"Philadelphia\"\n        },\n        {\n            \"name\": \"Golden Globe Award for Best Actor\",\n            \"year\": 1994,\n            \"movie\": \"Forrest Gump\"\n        }\n    ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}"]
            },
            "description": "Update an existing actor (admin only)"
          },
          "response": []
        },
        {
          "name": "Delete Actor (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}"]
            },
            "description": "Delete an actor (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Actor-Movie Associations",
      "description": "Endpoints for managing actor-movie associations",
      "item": [
        {
          "name": "Get Movies by Actor",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}/movies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}", "movies"]
            },
            "description": "Get all movies featuring a specific actor"
          },
          "response": []
        },
        {
          "name": "Get Actors by Movie",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/actors",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "actors"]
            },
            "description": "Get all actors in a specific movie"
          },
          "response": []
        },
        {
          "name": "Add Actor to Movie (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"character\": \"Forrest Gump\",\n    \"isMainCast\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/actors/{{actorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "actors", "{{actorId}}"]
            },
            "description": "Add an actor to a movie (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Actor Role in Movie (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"character\": \"Updated Character Name\",\n    \"isMainCast\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/actors/{{actorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "actors", "{{actorId}}"]
            },
            "description": "Update an actor's role in a movie (admin only)"
          },
          "response": []
        },
        {
          "name": "Remove Actor from Movie (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/movies/{{movieId}}/actors/{{actorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "movies", "{{movieId}}", "actors", "{{actorId}}"]
            },
            "description": "Remove an actor from a movie (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Actor Awards",
      "description": "Endpoints for managing actor awards",
      "item": [
        {
          "name": "Get Actor Awards",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}/awards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}", "awards"]
            },
            "description": "Get all awards for a specific actor"
          },
          "response": []
        },
        {
          "name": "Add Award to Actor (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Golden Globe Award for Best Actor\",\n    \"year\": 2001,\n    \"movie\": \"Cast Away\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}/awards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}", "awards"]
            },
            "description": "Add an award to an actor (admin only)"
          },
          "response": []
        },
        {
          "name": "Update Actor Award (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Golden Globe Award for Best Actor - Motion Picture Drama\",\n    \"year\": 2001,\n    \"movie\": \"Cast Away\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}/awards/{{awardId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}", "awards", "{{awardId}}"]
            },
            "description": "Update an actor's award (admin only)"
          },
          "response": []
        },
        {
          "name": "Remove Award from Actor (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/actors/{{actorId}}/awards/{{awardId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "{{actorId}}", "awards", "{{awardId}}"]
            },
            "description": "Remove an award from an actor (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Actor Statistics",
      "description": "Endpoints for actor statistics",
      "item": [
        {
          "name": "Get Actor Statistics (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/actors/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "statistics"]
            },
            "description": "Get overall actor statistics (admin only)"
          },
          "response": []
        },
        {
          "name": "Get Most Featured Actors (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/actors/statistics/most-featured?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "statistics", "most-featured"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get actors featured in the most movies (admin only)"
          },
          "response": []
        },
        {
          "name": "Get Most Awarded Actors (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/actors/statistics/most-awarded?limit=5",
              "host": ["{{baseUrl}}"],
              "path": ["api", "actors", "statistics", "most-awarded"],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Get actors with the most awards (admin only)"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Get today's date in YYYY-MM-DD format",
          "const today = new Date();",
          "const todayFormatted = today.toISOString().split('T')[0];",
          "",
          "// Format display date (e.g., \"December 25, 2023\")",
          "const options = { year: 'numeric', month: 'long', day: 'numeric' };",
          "const displayDate = today.toLocaleDateString('en-US', options);",
          "",
          "// Get day of week",
          "const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];",
          "const dayOfWeek = daysOfWeek[today.getDay()];",
          "",
          "// Set environment variables",
          "pm.environment.set('date', todayFormatted);",
          "pm.environment.set('displayDate', displayDate);",
          "pm.environment.set('dayOfWeek', dayOfWeek);"
        ]
      }
    }
  ]
}
